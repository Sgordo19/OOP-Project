package Final_Project;

import java.util.Scanner;
import java.util.Arrays;

public abstract class User {
    protected String name;
    protected String trn;
    protected String dob;
    protected String parish;
    protected String contact_number;

    // List of valid parishes in Jamaica
    private static final String[] VALID_PARISHES = {
        "Kingston", "Saint Andrew", "Saint Thomas", "Portland", "Clarendon",
        "Saint Catherine", "Manchester", "Saint Elizabeth", "Trelawny", "Saint James",
        "Hanover", "Westmoreland", "St. Ann", "St. Mary", "St. David"
    };

    // Method to prompt the user to input the driver's information
    public void inputUserInfo() {
        Scanner scanner = new Scanner(System.in);

        System.out.println("Enter Driver's Name:");
        this.name = scanner.nextLine();

        System.out.println("Enter Driver's TRN:");
        this.trn = scanner.nextLine();

        System.out.println("Enter Driver's Date of Birth (e.g., 01/01/1980):");
        this.dob = scanner.nextLine();

        // Prompt for a valid parish
        this.parish = getValidParish(scanner);

        System.out.println("Enter Driver's Contact Number:");
        this.contact_number = scanner.nextLine();
    }

    // Method to validate parish input
    private String getValidParish(Scanner scanner) {
        String parishInput = null;
        boolean isValid = false;
        
        while (!isValid) {
            System.out.println("Enter Driver's Parish (choose from: " + String.join(", ", VALID_PARISHES) + "):");
            parishInput = scanner.nextLine();
            if (Arrays.asList(VALID_PARISHES).contains(parishInput)) {
                isValid = true;  // Parish is valid
            } else {
                System.out.println("Invalid parish. Please enter a valid parish from the list.");
            }
        }
        return parishInput;
    }

    // Getter methods
    public String getName() {
        return name;
    }

    public String getTrn() {
        return trn;
    }

    public String getDob() {
        return dob;
    }

    public String getParish() {
        return parish;
    }

    public String getContactNumber() {
        return contact_number;
    }
}
