package Final_Project;

public class Applicant extends User {
    private String email;
    private Ticket ticket;
    private Boolean accidents;
    private Boolean negativePoliceRecords;

    // Primary Constructor
    public Applicant(String name, String trn, String dob, String address, String contact_number, String email, Ticket ticket, Boolean accidents, Boolean negativePoliceRecords) {
        super(name, trn, dob, address, contact_number);
        this.email = email;
        this.ticket = ticket;
        this.accidents = accidents;
        this.negativePoliceRecords = negativePoliceRecords;
    }

    public Applicant(Applicant app) {
        super(app);
        email = app.email;
        ticket = app.ticket;
        accidents = app.accidents;
        negativePoliceRecords = app.negativePoliceRecords;
    }

    // Getters and Setters
    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public Ticket getTicket() {
        return ticket;
    }

    public void setTicket(Ticket ticket) {
        this.ticket = ticket;
    }

    public Boolean getAccidents() {
        return accidents;
    }

    public void setAccidents(Boolean accidents) {
        this.accidents = accidents;
    }

    public Boolean getNegativePoliceRecords() {
        return negativePoliceRecords;
    }

    public void setNegativePoliceRecords(Boolean negativePoliceRecords) {
        this.negativePoliceRecords = negativePoliceRecords;
    }

    // New Methods

    // Check if the applicant has outstanding tickets
    public Boolean checkTicketStatus() {
      
        return ticket != null && Ticket.unpaid();  
    }

    // Apply for license after checking qualifications
    public void applyForLicense() {
        if (accidents || negativePoliceRecords || checkTicketStatus()) {
            System.out.println("Application Denied based on the disqualification of the proposed driver, you have 5 to 10 business days to provide another driver.");
        } else {
            System.out.println("License application is approved.");
        }
    }

    // Update an application (e.g., updating the ticket status or other fields)
    public void updateApplication() {
        System.out.println("Application details have been updated.");
    }

    // Delete an application (e.g., if the applicant decides to withdraw or if the application is invalid)
    public void deleteApplication() {
        System.out.println("Application has been deleted.");
    }

    @Override 
    public String toString() {
        return "User's email is: " + email + "\n" +
               "Number of ticket(s): " + ticket + "\n" +
               "Has the User met in any accidents?: " + accidents + "\n" +
               "What is the User's police record?: " + (negativePoliceRecords ? "Negative" : "Clean") + "\n"; 
    }
}
